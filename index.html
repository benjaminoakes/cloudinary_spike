<!doctype html>
<html>
<head>
  <title>Cloudinary Sandbox</title>

  <meta charset="utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width" />
  <meta name="cloudinary_cloud_name" content="demo" />
</head>

<body>
<div>
  <h1>Cloudinary Sandbox</h1>

  <div style="width: 80%; margin: 0 auto;">
    <img
      data-src="http://res.cloudinary.com/demo/image/upload/w_auto:50,h_50,g_auto,c_fill/woman.jpg"
      class="cld-responsive" />
  </div>

  <div style="width: 80%;">
    <img
      data-src="http://res.cloudinary.com/demo/image/upload/w_auto,h_50,g_auto,c_fill/woman.jpg"
      class="cld-responsive" />
  </div>

  <div style="width: 80%;">
    <img
      data-src="http://res.cloudinary.com/demo/image/upload/w_auto,h_50,q_auto,g_auto,c_fill/woman.jpg"
      class="cld-responsive" />
  </div>

  <div style="width: 80%;">
    <img
      data-src="http://res.cloudinary.com/demo/image/upload/w_100,h_100,g_auto,dpr_auto,c_fill/woman.jpg"
      style="width: 100px; height: 100px;"
      class="cld-responsive" />
    <img
      data-src="http://res.cloudinary.com/demo/image/upload/w_100,h_100,g_auto,dpr_auto,c_fill/smiling_man.jpg"
      style="width: 100px; height: 100px;"
      class="cld-responsive" />
    <img
      data-src="http://res.cloudinary.com/demo/image/upload/w_100,h_100,g_auto,dpr_auto,c_fill/sample.jpg"
      style="width: 100px; height: 100px;"
      class="cld-responsive" />
  </div>


  <p>These are just some examples.  (Very little effort went into styles.) Try opening this in responsive design mode in your browser.</p>

  <p>Some notes:</p>

  <ul>
    <li>Gravity auto is the setting to focus on the interesting bit of the image.</li>
    <li>Quality auto reduces the file size by about half and looks about the same.</li>
    <li>You can send Client Hints to help load the correct images.  See <code>Accept-CH</code>.</li>
    <li>There are Rails helpers for the above. See <code>cl_image_tag</code>.  Example: <code>cl_image_tag(the_image, width: :auto, height: 50, gravity: :auto, quality: :auto, client_hints: true, crop: "fill")</code>.</li>
    <li>DPR auto seems to need styles for width and height on high-DPI devices</li>
    <li>Changing the viewport size only loads images if it became <em>bigger</em>.  If it becomes smaller, it will use the big images that were already loaded.  (Needs styling that this page doesn't have.)  <strong>This means you'll have to refresh to see the smaller images if you make the window smaller.</strong></li>
    <li>You can set automatic "breakpoints" (image size increments, not related to a debugger breakpoint), but the default is every 100px.</li>
  </ul>

  <p>
    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  </p>
</div>

<script src="cloudinary-core-shrinkwrap.js" type="text/javascript"></script>
<script type="text/javascript">
  var cl = cloudinary.Cloudinary.new({cloud_name: "demo"});
  // replace 'demo' with your cloud name in the line above
  cl.responsive();
</script>
</body>
</html>
